<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <meta name="description" content="Insurrection 1946, Bombay, Naval, Mutiny, Bombay Naval Mutiny, 1946">
    <meta name="author" content="samangoudarzi">
    <title>Insurrection 1946 - Map of British Empire</title>
    <link href='css/style.css' rel='stylesheet' />
    <!-- Mapbox API -->
    <script src="jquery.min.js"></script>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.css' rel='stylesheet' />
    <!-- Google Fonts API -->
    <link href="https://fonts.googleapis.com/css?family=Old+Standard+TT" rel="stylesheet">
</head>
<body>
 <style>
</style>
<div id='map'></div>
<div id='features'>
    <div id="navbar">
        <div id="logo" style="clear:both">
            <a href="index.html"><img src="img/insurrection1946_logo.png" alt="Insurrection 1946"></a>
        </div>
        <div id="nav">
            <div id="navlinks"> 
                <a href="index.html">Bombay</a>
                <a href="south-asia.html">South Asia</a>
                <a href="british-empire.html">British Empire</a>
                <a href="http://insurrection1946.in/">The Exhibition</a>
                <a href="#about">About the Map</a>
            </div>
            <div id="desc">
                <h1>Map of British Empire</h1>
                <p>Brief description of the exhibition and the map.</p>
                <p>Please scroll down to follow the events.</p>
            </div>
        </div>
    </div>
    <a href="#Start"><section id='Start' class='active'>
    </section></a>
        <a href="#E3016"><section id='E3016'>
        <h3>August17, 1945 Jakarta </h3>
        <p>Sukarno declares Indonesian independence. The period ended with the departure of the British military in 1946, by which time the Dutch had rebuilt their military capacity. Meanwhile, the Indonesian revolutionary fighters are well into the process of forming a formal military. Bersiap: a violent and chaotic phase of the Indonesian National Revolution following the end of World War II. The Indonesian word bersiap means 'get ready' or 'be prepared', and the period lasts from August 1945 to December 1946. The last Japanese troops are evacuated by July 1946.</p>
        <!--this event has no image-->
    </section></a>
    <a href="#E3015"><section id='E3015'>
        <h3>October27, 1945 Surabaya </h3>
        <p>The Battle of Surabaya begins. Fought between pro-independence Indonesian soldiers and militia against  British Indian troops as a part of the Indonesian National Revolution. The peak of the battle was in November 1945, the  heaviest single battle of the revolution, later a national symbol of Indonesian resistance.</p>
        <!--this event has no image-->
    </section></a>
    <a href="#E3010"><section id='E3010'>
        <h3>February19, 1946 Whitehall, London 2230</h3>
        <p>From Secretary of State: Most Immediate: Press carries sensational reports...</p>
        <img src="E3010.jpg" alt="E3010">
    </section></a>
    <a href="#E3002"><section id='E3002'>
        <h3>February20, 1946 Aden 1130</h3>
        <p>Twenty RIN Ratings - off watch - refused to carry out watch-keeping duties.</p>
        <!--<img src="E3002.jpg" alt="E3002">-->
        <!--this event has no image-->
    </section></a>
    <a href="#E3001"><section id='E3001'>
        <h3>February20, 1946 Bahrain 1200</h3>
        <p>Bahrain Wireless Transfer Station: Ratings refuse duty and are placed under arrest.</p>
        <!--<img src="E3001.jpg" alt="E3001">-->
        <!--this event has no image-->
    </section></a>
    <a href="#E3014"><section id='E3014'>
        <h3>February20, 1946  2320</h3>
        <p>From Govt of India, War Dept to Secretary of State</p>
        <img src="E3014.jpg" alt="E3014">
    </section></a>
    <a href="#E3005"><section id='E3005'>
        <h3>February21, 1946 New Delhi 2320</h3>
        <p>From Government of India, War Department</p>
        <img src="E3005.jpg" alt="E3005">
    </section></a>
    <a href="#E3007"><section id='E3007'>
        <h3>February21, 1946 Parliament, London 1610</h3>
        <p>Prime Minister was pressed in the House of Commons...'</p>
        <img src="E3007.jpg" alt="E3007">
    </section></a>
    <a href="#E3008"><section id='E3008'>
        <h3>February21, 1946 Whitehall, London 1525</h3>
        <p>Frome Minister to Viceroy</p>
        <img src="E3008.jpg" alt="E3008">
    </section></a>
    <a href="#E3009"><section id='E3009'>
        <h3>February21, 1046 Whitehall, London 1405</h3>
        <p>From Secretary of State to Viceroy</p>
        <img src="E3009.jpg" alt="E3009">
    </section></a>
    <a href="#E3013"><section id='E3013'>
        <h3>February22, 1946 Bombay 30</h3>
        <p>From Governor of Bombay to Secretary of State for India </p>
        <img src="E3013.jpg" alt="E3013">
    </section></a>
    <a href="#E3006"><section id='E3006'>
        <h3>February22, 1946 Whitehall, London 1315</h3>
        <p>From 10 Downing Street</p>
        <img src="E3006.jpg" alt="E3006">
    </section></a>
    <a href="#E1039A"><section id='E1039A'>
        <h3>February22, 1946 Whitehall, London 100</h3>
        <p>We all hope that wiser counsels prevail'.</p>
        <!--this event has no image-->
    </section></a>
    <a href="#E3004"><section id='E3004'>
        <h3>February22, 1946 Secretariat, Bombay 2245</h3>
        <p>From Secretary to the Governor of Bombay, to Secretary of State for India</p>
        <img src="E3004.jpg" alt="E3004">
    </section></a>
    <a href="#E3011"><section id='E3011'
        ><h3>February24, 1946  1710</h3>
        <p>From Chief Secretary to Govt of Bombay, to Secretary of State</p>
        <img src="E3011.jpg" alt="E3011">
    </section></a>
    <a href="#E3012"><section id='E3012'>
        <h3>February24, 1946  1340</h3>
        <p>From Secretary to Governor of Bombay to Secretary of State for India</p>
        <img src="E3012.jpg" alt="E3012">
    </section></a>
    <a href="#E3003"><section id='E3003'>
        <h3>February28, 1946 Seretariat, Madras 1900</h3>
        <p>From Chief Secretary, Government of Madras to Secretary of State, Govt of India, 'general strike and hartal in Madras city'</p>
        <img src="E3003.jpg" alt="E3003">
    </section></a>
    <div id="about">
        <h1>About the Map</h1>
        <p>This map is created for the <a href="http://insurrection1946.in/">Insurrection 1946 exhibition</a> by <a href="https://github.com/samangoudarzi">Saman Goudarzi</a> at the <a href="http://cis-india.org/">Centre for Internet and Society (CIS)</a>, India, with help from <a href="https://github.com/batpad">Sanjay Bhangar</a>, <a href="http://shekhar.cc/">Shekhar Krishnan</a>, and <a href="https://github.com/ajantriks">Sumandro Chattapadhyay</a>. Location data and images are selected and compiled by <a href="https://cscsarchive.academia.edu/AshishRajadhyaksha">Ashish Rajadhyaksha</a> and <a href="https://github.com/samangoudarzi">Saman Goudarzi</a>. Data/image credits. Attribution to <a href="https://www.mapbox.com/">Mapbox</a> and <a href="http://mapwarper.net/">MapWarper</a>.</p>
    </div>
</div>
<!-- location data for the map -->
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiZ2FtYW4iLCJhIjoiY2lzajQ2N2YzMDF4cjJ1cHVsdzd1b2ZlOCJ9.K6uUaMmeJ16TFmaORHcp0g';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/gaman/cjcspd02i0cnh2sntpdsvuusm',
    center: [44.511,40.498], //starting centre position
    zoom: 2.6,//starting zoom level
    maxZoom: 4.5 //cap on how far they can zoom in
    //minZoom: 2 cap on how far they can zoom out
});
map.on('load', function() {
    map.addLayer({
        'id': 'wms-layer',
        'type': 'raster',
        'source': {
            'type': 'raster',
            'tiles': [
                'http://mapwarper.net/maps/tile/26881/330/100/100.png '
            ],
        },
        'paint': {}
    }, 'aeroway-taxiway');
});
    
var chapters = {
    'E3016':{
        center: [108.929,-1.456],
        zoom:4.3,
        speed:0.8, 
        pitch: 0
    },
    'E3015':{
        center: [111.222,-5.017],
        zoom:4.3,
        speed:0.8,
        pitch: 0
    },
    'E3010':{
        center: [-0.126452,51.504687],
        zoom: 5.2,
        speed:0.8,
        pitch: 0
    },
    'E3002':{
        center: [45.004663,12.769301],
        zoom: 5.2,
        speed:0.8,
        pitch: 0
    },
    'E3001':{
        center: [50.478,26.133],
        zoom:5,
        speed:0.8,
        pitch: 0
    },
    'E3014':{
        center: [72.838199,18.930336],
        zoom: 5,
        speed:0.8,
        pitch: 0
    },
    'E3005':{
        center: [77.102,28.488],
        zoom:5,
        speed:0.8,
        pitch: 0
    },
    'E3007':{
        center: [-2.245,52.895],
        zoom:4.7,
        speed:0.8,
        pitch: 0
    },
    'E3008':{
        center: [-0.126452,51.504687],
        zoom:4.7,
        speed:0.8,
        pitch: 0
    },
    'E3009':{
        center: [-0.126452,51.504687],
        zoom:4.7, 
        speed:0.8,
        pitch: 0
    },
    'E3013':{
        center: [72.838199,18.930336],
        //NEED TO FIX
        zoom: 5.2,
        speed:0.8,
        pitch: 0
    },
    'E3006':{
        center: [-0.126452,51.504687],
        zoom:4.7,
        speed:0.8,
        pitch: 0
    },
    'E1039A':{
        center: [-0.126452,51.504687],
        zoom: 5.2,
        speed:0.8,
        pitch: 0
    },
    'E3004':{
        center: [72.838199,18.930336],
        //NEED TO FIX
        zoom: 5.2,
        speed:0.8,
        pitch: 0
    },
    'E3011':{
        center: [72.838199,18.930336],
        //NEED TO FIX
        zoom: 5.2,
        speed:0.8,
        pitch: 0
    },
    'E3012':{
        center: [72.838199,18.930336],
        //NEED TO FIX
        zoom: 5.2,
        speed:0.8,
        pitch: 0
    },
    'E3003':{
        center: [80.277,14.018],
        zoom:5.7,
        speed:0.8,
        pitch: 0
    }
};
// On every scroll event, check which element is on screen
window.onscroll = function() {
    var chapterNames = Object.keys(chapters);
    for (var i = 0; i < chapterNames.length; i++) {
        var chapterName = chapterNames[i];
        if (isElementOnScreen(chapterName)) {
            setActiveChapter(chapterName);
            break;
        }
    }
};
var activeChapterName = 'Start';
function setActiveChapter(chapterName) {
    if (chapterName === activeChapterName) return;
    map.flyTo(chapters[chapterName]);
    document.getElementById(chapterName).setAttribute('class', 'active');
    document.getElementById(activeChapterName).setAttribute('class', '');
    activeChapterName = chapterName;
}
function isElementOnScreen(id) {
    var element = document.getElementById(id);
    var bounds = element.getBoundingClientRect();
    return bounds.top < window.innerHeight && bounds.bottom > 0;
}
$('a[href*=#]').click(function(event){
    $('html, body').animate({
        scrollTop: $( $.attr(this, 'href') ).offset().top
    }, 500);
    event.preventDefault();
});
</script>

</body>
</html>
